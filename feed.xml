<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.3.2">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2023-12-04T11:10:45-05:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">Project Web Page</title><subtitle>Project web Page for CMU 15618 Fall 2023 final project.</subtitle><entry><title type="html">CMU 15618 Project Milestone Report</title><link href="http://localhost:4000/project/2023/12/04/project-milestone.html" rel="alternate" type="text/html" title="CMU 15618 Project Milestone Report" /><published>2023-12-04T10:36:22-05:00</published><updated>2023-12-04T10:36:22-05:00</updated><id>http://localhost:4000/project/2023/12/04/project-milestone</id><content type="html" xml:base="http://localhost:4000/project/2023/12/04/project-milestone.html"><![CDATA[<h2 id="milestone-report">Milestone Report</h2>

<h4 id="summary">Summary</h4>

<p>This project is more challenging than we expected, but the progress is going well. We should be able to complete all tasks mentioned in the ‘Plan to Achieve’ part of our project proposal. So far we have implemented the coarse-grained locked filter and most part of the fine-grained locked filter, and designed a feasible algorithm for the lock-free version.</p>

<h4 id="tasks-completed">Tasks Completed</h4>

<ol>
  <li>Developed a test &amp; benchmark framework for the cuckoo filter project.</li>
  <li>Implemented Coarse-grained locked filter.</li>
  <li>Completed 80% of find-grained locked filter implementation (slightly delayed, will be finished in the next few days).</li>
  <li>Designed a feasible algorithm that can make cuckoo filter lock-free.</li>
</ol>

<h4 id="lock-free-algorithm-design">Lock-free Algorithm Design</h4>

<p>The most challenging part of our project is the implementation of the lock-free cuckoo filter, which is essentially harder to design than 1-array or 2-array cuckoo hash tables. Specifically, cuckoo filter uses 4-way associative bucketized cuckoo hash table, as illustrated in the below figure (this figure comes from paper <a href="https://www.cs.cmu.edu/~dga/papers/cuckoo-conext2014.pdf">Cuckoo Filter: Practically Better Than Bloom</a>).</p>

<p><img src="/assets/images/cuckoo_filter_pic.png" style="zoom:70%" /></p>

<p>This structure complicates the replacement operation, because now  an item will have four possible new locations during replacement, instread of only one in 1-array or 2-array versions. Accordingly, the search path needed for finding a valid replacement location becomes a quad-tree rather than a line, making ensuring correctness significantly harder.</p>

<p>To address this challenge, we added a new rule for item replacement: an item $x$ placed at entry $N$ ($N \in  {0, 1, 2, 3}$, each bucket contains 4 entries) in bucket $h_1(x)$ can only be replaced to the same entry in bucket $h_2(x)$. In this way, we could make the bucketized cuckoo hash table lock-free using similar methods for 1-array or 2-array versions (paper <a href="https://ieeexplore.ieee.org/document/6888938">Lock-free Cuckoo Hashing</a>).</p>

<p>Although this solution allows for a lock-free bucketized cuckoo hash table, it imposes restrictions on possible replacement locations, potentially adversely affecting the filter’s utilization. In the upcoming weeks,, we will try to improve our lock-free design by employing a BFS-based replacement algorithm.</p>

<h4 id="additional-resources-used">Additional Resources Used</h4>

<p>In addition to the resources &amp; references listed in the proposal, we also referenced the following libraries and papers:</p>

<ol>
  <li>OpenSSL library (<code class="language-plaintext highlighter-rouge">libssl-dev</code>), we use it for MD5 fingerprint generation.</li>
  <li><code class="language-plaintext highlighter-rouge">CycleTimer.h</code> from 15418’s course resources, we use it to benchmark our code.</li>
  <li><a href="https://www.usenix.org/system/files/conference/nsdi13/nsdi13-final197.pdf">MemC3: Compact and Concurrent MemCache with Dumber Caching and Smarter Hashing</a></li>
  <li><a href="https://ieeexplore.ieee.org/document/1291819">Hazard pointers: safe memory reclamation for lock-free objects</a></li>
</ol>]]></content><author><name></name></author><category term="project" /><summary type="html"><![CDATA[Milestone Report]]></summary></entry><entry><title type="html">CMU 15618 Project Proposal</title><link href="http://localhost:4000/project/2023/11/15/project-proposal.html" rel="alternate" type="text/html" title="CMU 15618 Project Proposal" /><published>2023-11-15T11:10:22-05:00</published><updated>2023-11-15T11:10:22-05:00</updated><id>http://localhost:4000/project/2023/11/15/project-proposal</id><content type="html" xml:base="http://localhost:4000/project/2023/11/15/project-proposal.html"><![CDATA[<h1 id="lock-free-cuckoo-filter">Lock-free Cuckoo Filter</h1>

<h3 id="team-members">Team members</h3>

<p><strong>Yifei Wang</strong> (yifeiw3), <strong>Yuchen Wang</strong> (yw7)</p>

<h3 id="url">URL</h3>

<p><a href="https://xsxszab.github.io/">https://xsxszab.github.io/</a></p>

<h3 id="summary">Summary</h3>
<p>In this project, we are going to implement a lock-free version of the Cuckoo Filter introduced in [2]. The lock-free filter will be benchmarked against its coarse-grained and fine-grained locked counterparts for performance evaluation.</p>

<h3 id="background">Background</h3>

<p>The Approximate Membership Query Filter (AMQ-Filter) is a probabilistic data structure designed to determine whether a specific item belongs to a set with a certain false positive rate. The widely adopted Bloom Filter, employed in systems such as caches, routers, and databases, faces a drawback: it lacks efficiency in removing items from the set.</p>

<p>To overcome this limitation, [2] introduced the Cuckoo Filter, a novel AMQ-Filter leveraging the Cuckoo Hash Table. This alternative not only addresses the inefficiency in item deletion but also demonstrates superior efficiency in queries compared to the Bloom Filter.</p>

<p>Given the prevalent use of AMQ-Filters in high-concurrency environments, our project aims to implement a fully concurrent version of the Cuckoo Filter capable of supporting multi-threaded access. Our approach involves leveraging lock-free programming to achieve a substantial performance boost when compared to both coarse-grained and fine-grained locked versions.</p>

<h3 id="the-challenge">The Challenge</h3>

<p>The most challenging part of our project is writing a correct lock-free version of the filter. Specifically, the displacement operation during item insertion is the most difficult part to handle. We need to design a correct and efficient way to manage items items displaced but not yet reinserted into the hash table. In other words, as an item awaits reinsertion into the hash table, filter users (query threads) should be able to ascertain its existence.</p>

<h3 id="resources">Resources</h3>
<ul>
  <li><strong>Computing Resources</strong>: We plan to use our laptops and GHC machines for this project.</li>
  <li><strong>Code Base</strong>: We will start from scratch to implement the cuckoo filter in C++, without using any starter code. In addition, we found a 15618 project in Spring 2017 that implements lock-free cuckoo hashing, which bears some similarity to what we plan to implement. We will not use any part of their code for our project.</li>
  <li><strong>Reference materials</strong>: Please refer to the References Section below (this may not be a comprehensive list, we may refer to new books or papers during the project).</li>
</ul>

<h3 id="goals-and-deliverables">Goals and Deliverables</h3>

<p><strong>Plan to Achieve</strong>:</p>

<ul>
  <li>Implement a functional, correct Lock-free Cuckoo Filter. This goal must be achieved since the filter is the core part of our project.</li>
  <li>Implement both corse-grained and fine-grained locked version of the cuckoo filter, and compare their performance with our lock-free version under different access patterns.</li>
</ul>

<p><strong>Hope to Achieve</strong>:</p>

<ul>
  <li>Implement the semi-sorting technique mentioned in [2] for space optimization. Since this part will make the filter’s code structure significantly more complex, we will only try to implement it after the basic version of cuckoo filter is finished.</li>
  <li>Accelerate the filter through utilizing SIMD instructions.</li>
  <li>Provide a Python wrapper for the cuckoo filter using pybind11.</li>
</ul>

<h3 id="platform-choice">Platform Choice</h3>

<p>We will implement the cuckoo filter in C++ on Linux platforms (our laptop &amp; GHC machines). We are both familiar with C++ programming so using it would likely result in high productivity.</p>

<h3 id="schedule">Schedule</h3>

<table>
  <thead>
    <tr>
      <th>Date</th>
      <th>TASKS</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>11/16 - 11/22</td>
      <td>Paper Reading &amp; Implement coarse-grained locked version of the Cuckoo Filter</td>
    </tr>
    <tr>
      <td>11/23 - 11/29</td>
      <td>Implement fine-grained locked Cuckoo Filter &amp; start to implement the lock-free version</td>
    </tr>
    <tr>
      <td>11/30 - 12/7</td>
      <td>Finish lock-free version, write milestone report</td>
    </tr>
    <tr>
      <td>12/8- 12/14</td>
      <td>Debugging and optimization, write final report, create posters</td>
    </tr>
    <tr>
      <td>12/15</td>
      <td>Poster Session</td>
    </tr>
  </tbody>
</table>

<h3 id="references">References</h3>
<p>[1] N. Nguyen and P. Tsigas, “Lock-Free Cuckoo Hashing,” 2014 IEEE 34th International Conference on Distributed Computing Systems, Madrid, Spain, 2014, pp. 627-636.</p>

<p>[2] Fan, Bin, et al. “Cuckoo filter: Practically better than bloom.” Proceedings of the 10th ACM International on Conference on emerging Networking Experiments and Technologies. 2014.</p>]]></content><author><name></name></author><category term="project" /><summary type="html"><![CDATA[Lock-free Cuckoo Filter]]></summary></entry></feed>